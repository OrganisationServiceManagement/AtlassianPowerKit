{
  "type": "doc",
  "version": 1,
  "content": [
    {
      "type": "paragraph",
      "content": {
        "type": "text",
        "text": "Oracle has deprecated support for Oracle 12c Database. As such, we need to upgrade all numbering DB’s to 19c."
      }
    },
    {
      "type": "mediaSingle",
      "attrs": {
        "layout": "align-start"
      },
      "content": {
        "type": "media",
        "attrs": {
          "type": "file",
          "id": "54e68b45-6041-4c63-b4b2-ea818eaa9fbd",
          "height": 410,
          "width": 1833
        }
      }
    },
    {
      "type": "paragraph",
      "content": [
        {
          "type": "text",
          "text": "Ref: "
        },
        {
          "type": "text",
          "text": "https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Oracle.Concepts.database-versions.html#Oracle.Concepts.FeatureSupport.12c",
          "marks": {
            "type": "link",
            "attrs": {
              "href": "https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Oracle.Concepts.database-versions.html#Oracle.Concepts.FeatureSupport.12c"
            }
          }
        }
      ]
    },
    {
      "type": "paragraph",
      "content": {
        "type": "text",
        "text": "Starting June 1, AWS will start auto upgrading these DB’s to 19c. We should take this opportunity to manually upgrade and do testing."
      }
    },
    {
      "type": "paragraph",
      "content": [
        {
          "type": "text",
          "text": "AWS provides comprehensive documentation to upgrade these Oracle versions, which covers all manual steps outlined for an on-premise upgrade - "
        },
        {
          "type": "text",
          "text": "https://aws.amazon.com/blogs/database/best-practices-for-upgrading-amazon-rds-for-oracle-db-instances-from-12c-to-19c/#:~:text=Amazon RDS for Oracle will,existing RDS for Oracle 12.1.",
          "marks": {
            "type": "link",
            "attrs": {
              "href": "https://aws.amazon.com/blogs/database/best-practices-for-upgrading-amazon-rds-for-oracle-db-instances-from-12c-to-19c/#:~:text=Amazon%20RDS%20for%20Oracle%20will,existing%20RDS%20for%20Oracle%2012.1."
            }
          }
        }
      ]
    },
    {
      "type": "paragraph",
      "content": {
        "type": "text",
        "text": "Following DB’s are in scope:"
      }
    },
    {
      "type": "table",
      "attrs": {
        "layout": "default",
        "localId": "8b8f6ef9-8fee-4274-ba8d-926eba4cef2b"
      },
      "content": [
        {
          "type": "tableRow",
          "content": [
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "Region"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "AWS accountid"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "DBInstanceSize"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "AutoMinorVersionUpgrade"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "DBInstanceIdentifier"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "Engine"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "EngineVersion"
                }
              }
            }
          ]
        },
        {
          "type": "tableRow",
          "content": [
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "ap-southeast-2"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "numbering-legacy"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "db.t3.xlarge"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "TRUE"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "devnumdb-2021-09-14-17-10"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "oracle-se2"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "12.1.0.2.v26"
                }
              }
            }
          ]
        },
        {
          "type": "tableRow",
          "content": [
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "ap-southeast-2"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "numbering-legacy"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "db.r5.large"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "TRUE"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "num-ote-db"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "oracle-se2"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "12.1.0.2.v26"
                }
              }
            }
          ]
        },
        {
          "type": "tableRow",
          "content": [
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "ap-southeast-2"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "numbering-legacy"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "db.r5.large"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "TRUE"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "otenumdb-20220130"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "oracle-se2"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "12.1.0.2.v26"
                }
              }
            }
          ]
        },
        {
          "type": "tableRow",
          "content": [
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "ap-southeast-2"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "numbering-legacy"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "db.r4.large"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "FALSE"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "prodnumdb"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "oracle-se2"
                }
              }
            },
            {
              "type": "tableCell",
              "attrs": {},
              "content": {
                "type": "paragraph",
                "content": {
                  "type": "text",
                  "text": "12.1.0.2.v18"
                }
              }
            }
          ]
        }
      ]
    },
    {
      "type": "paragraph",
      "content": {
        "type": "text",
        "text": "Recommendation:"
      }
    },
    {
      "type": "orderedList",
      "content": [
        {
          "type": "listItem",
          "content": [
            {
              "type": "paragraph",
              "content": {
                "type": "text",
                "text": "Manually upgrade DEV database, and perform application PVT and performance testing"
              }
            },
            {
              "type": "orderedList",
              "content": [
                {
                  "type": "listItem",
                  "content": [
                    {
                      "type": "paragraph",
                      "content": {
                        "type": "text",
                        "text": "If issues arise, consider the following:"
                      }
                    },
                    {
                      "type": "codeBlock",
                      "attrs": {},
                      "content": {
                        "type": "text",
                        "text": "After the upgrade, if the SQL statements perform poorly due to the change in the plans by the 19c optimizer, you can use OPTIMIZER_FEATURES_ENABLE. This parameter is alterable at the session level and system level. For example, if you upgrade your database from release 12c to release 19c, but you want to keep the release 12c optimizer behavior, you can do so by setting this parameter to 12c. At a later time, you can try the enhancements introduced in releases up to and including release 19c by setting the parameter to 19.0.0."
                      }
                    }
                  ]
                },
                {
                  "type": "listItem",
                  "content": {
                    "type": "paragraph",
                    "content": {
                      "type": "text",
                      "text": "If issues still occur, application-level code fixes would be required. This might be a good oppurtunity to migrate the app to use Aurora Postgres or Aurora MySQL instead, which AWS provide tools to hlep migrate code and data."
                    }
                  }
                }
              ]
            }
          ]
        },
        {
          "type": "listItem",
          "content": {
            "type": "paragraph",
            "content": {
              "type": "text",
              "text": "If all successful, upgrade OTE"
            }
          }
        },
        {
          "type": "listItem",
          "content": {
            "type": "paragraph",
            "content": {
              "type": "text",
              "text": "If all successful, upgrade PROD and enable “auto minor version upgrade”"
            }
          }
        }
      ]
    }
  ]
}
